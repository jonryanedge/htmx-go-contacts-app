{{ define "title" }}Contacts - HTMX+GO Demo Application{{ end }}
{{ define "body" }}
<main>
    <header>
        <h1>
            <all-caps>contacts.app</all-caps>
            <sub-title>A Demo Contacts Application</sub-title>
        </h1>
    </header>
      <!-- <div class="flash">{{ .Flash }}</div> -->

  {{ template "search" }}

    <form x-data="{ selected: [] }">
    {{ template "selected" .}}
    <table>
        <thead>
        <tr>
            <th></th>
            <th>First</th>
            <th>Last</th>
            <th>Phone</th>
            <th>Email</th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        {{ template "rows" .}}
        </tbody>
    </table>
        <button hx-delete="/contacts"
                hx-confirm="Are you sure you want to delete these contacts?"
                hx-target="body">
            Delete Selected Contacts
        </button>
    </form>
    <p>
        <a href="/contacts/new">Add Contact</a>
        <span hx-get="/contacts/count" hx-trigger="revealed">
          <img id="spinner"
            style="height: 20px"
            class="htmx-indicator"
            src="/static/img/spinning-circles.svg"
          />

        </span>
    </p>

</main>
{{ end }}
